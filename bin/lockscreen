#!/bin/bash


echo "Detecting keyboard layout..."
CURRENT_LAYOUT=$(xkb-switch -p)
echo "Current keyboard layout: $CURRENT_LAYOUT"

if [ $CURRENT_LAYOUT != 'gb' ]; then
  echo "Change keyboard layout to 'gb'"
  xkb-switch -s gb
  CURRENT_LAYOUT=$(xkb-switch -p)
  echo "Current keyboard layout: $CURRENT_LAYOUT"
  echo "Screen locked"
  # xss-lock --transfer-sleep-lock -- i3lock -c 00000088 --nofork
  # i3lock -c 00000088 -i ~/.wallpaper.jpg --nofork
  i3lock -c 000000 --nofork
else
  echo "Screen locked"
  # xss-lock --transfer-sleep-lock -- i3lock -c 00000088 --nofork
  # i3lock -c 00000088 -i ~/.wallpaper.jpg --nofork
  i3lock -c 000000 --nofork
fi
